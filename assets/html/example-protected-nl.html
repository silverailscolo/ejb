<!doctype html>
<html lang="nl">
  <!-- Head -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <!--
SPDX-FileCopyrightText: 2024-2025 EJ Broerse

SPDX-License-Identifier: CC-BY-NC-SA-4.0
-->
    <!-- Metadata, OpenGraph and Schema.org -->

    <!-- Standard metadata -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, notranslate, noimageindex" />

    <title>Voorbeeld van een afgeschermde pagina | EJB's site</title>
    <meta name="author" content="EJ Broerse" />
    <meta name="description" content="Informatieve site over mijn werk en hobby's. Geen garanties!" />

    <meta name="keywords" content="architecture, house, trains" />

    <!-- Bootstrap & MDB -->
    <link rel="stylesheet" href="/ejb/assets/css/bootstrap.min.css?59683d8d628e6717785b508ec539c429" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css"
      integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw="
      crossorigin="anonymous"
    />

    <!-- Bootstrap Table -->

    <!-- Fonts & Icons -->

    <link
      defer
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons&amp;display=swap"
    />

    <!-- Code Syntax Highlighting -->
    <link
      defer
      rel="stylesheet"
      href="/ejb/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99"
      media=""
      id="highlight_theme_light"
    />

    <!-- Styles -->

    <link rel="shortcut icon" href="/ejb/assets/img/favicon.png?7de88881c5eea3dd7fcff1b84ec5f1bf" />

    <link rel="stylesheet" href="/ejb/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e" />
    <link rel="canonical" href="http://0.0.0.0:4000/ejb/protected/example-protected-page-nl/" />

    <!-- Dark Mode -->

    <link
      defer
      rel="stylesheet"
      href="/ejb/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca"
      media="none"
      id="highlight_theme_dark"
    />
    <script src="/ejb/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script>

    <!-- GeoJSON support via Leaflet -->

    <!-- diff2html -->

    <!-- JavaScripts moved here from footer -->
    <!-- jQuery -->
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>

    <!-- Lightgallery -->
  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">
    <!-- Header -->
    <header>
      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/ejb/">
            <div><img src="/ejb/assets/img/favicon.png" alt="Broerse" /></div>
          </a>

          <!-- Navbar Toggle -->
          <button
            class="navbar-toggler collapsed ml-auto"
            type="button"
            data-toggle="collapse"
            data-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">
              <!-- About -->
              <li class="nav-item">
                <a class="nav-link" href="/ejb/">over </a>
              </li>

              <!-- Other pages -->

              <li class="nav-item">
                <a class="nav-link" href="/ejb/blog/">blog </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/ejb/architect/">architectuur </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/ejb/projects/">projecten </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="/ejb/gallery/">collecties </a>
              </li>

              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  >treinen
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/ejb/trains/layout">mijn modelbaan</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/rollingstock">het materieel</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/trains/dcc">DCC</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/trains/prototype">prototype</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/trains/tips">tips</a>
                </div>
              </li>

              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  >huis
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/ejb/house/garden">tuin</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/house/renovation">renovatie</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/house/history">geschiedenis</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/house/smart">smart home</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/house/ms15">eerste huis</a>
                </div>
              </li>

              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  >computers
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/ejb/computers/repositories">GitHub repositories</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/computers/mymacs">mijn Macs</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/computers/macintosh">Mac tips</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/computers/lubuntu">Lubuntu tips</a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item" href="/ejb/computers/playground">speeltuin</a>
                </div>
              </li>

              <!-- Toggle language -->

              <li class="nav-item active">
                <a class="nav-link" href="/ejb/en-us/protected/example-protected-page-nl/"> EN-US</a>
              </li>

              <!-- Toggle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fa-solid fa-moon"></i>
                  <i class="fa-solid fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>

    <!-- Content -->
    <div class="container mt-5" role="main">
      Voorbeeld van een afgeschermde pagina

      <div id="content">
        Voer het wachtwoord in voor deze pagina
        <input id="password" type="password" />
        <button onclick="decrypt()">Ontsleutel</button>
        <p id="errmsg" style="color: red"></p>
      </div>

      <script
        src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"
        integrity="sha256-u6BamZiW5tCemje2nrteKC2KoLIKX9lKPSpvCkOhamw="
        crossorigin="anonymous"
      ></script>

      <script>
        function decrypt() {
          var protectedContent =
            "Zjeh356e1QJwPGMXwdlFHw==|QD7/qCOg4+hG2bhax/PMRAF3tkdTBBNDJ/WUSuEdMGw=|3f9JBDMajoNizpTJ1xV/B7JDhOutDY8Y7yw7L5SNPgOPfpc6d1dKtUh6qxGCYARfGStN29a6q4jByyw/baZCfriEU38e1PCTnz6ZqKpqf+91Kv8QVuidEuVOzXe3CvwCk0bo7a5E/o4MELz3llfwGfZVPATIdJhupOTfjNxkqJPMD1GFUFoke+IF+y0MbExg";
          var password = document.getElementById("password").value;

          var payload = protectedContent.split("|");
          var iv = payload[0];
          var hmac = payload[1];
          var cipherText = payload[2];

          var passphraseDgst = CryptoJS.SHA256(password).toString();
          var decryptedhmac = CryptoJS.HmacSHA256(cipherText, CryptoJS.enc.Hex.parse(passphraseDgst)).toString().trim();
          if (CryptoJS.enc.Base64.parse(hmac).toString() === decryptedhmac) {
            var decrypted = CryptoJS.AES.decrypt({ ciphertext: CryptoJS.enc.Base64.parse(cipherText) }, CryptoJS.enc.Hex.parse(passphraseDgst), {
              iv: CryptoJS.enc.Base64.parse(iv),
            });
            var content = CryptoJS.enc.Utf8.stringify(decrypted);
            document.getElementById("content").innerHTML = content;
          } else {
            document.getElementById("errmsg").innerHTML = "Dit wachtwoord is ongeldig";
          }
        }

        var passwordInput = document.getElementById("password");
        passwordInput.addEventListener("keyup", function (event) {
          event.preventDefault();
          if (event.keyCode === 13) {
            decrypt();
          }
        });
      </script>
    </div>

    <!-- Footer -->

    <footer class="sticky-bottom mt-5" role="contentinfo">
      <div class="container">
        © Copyright 2024-2025 EJ Broerse.
        <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.nl" rel="external nofollow noopener" target="_blank"
          ><img decoding="async" loading="lazy" src="/ejb/assets/img/by-nc-sa.png" width="117" height="41" alt="CC BY-NC-SA 4.0" style="float: right"
        /></a>

        <br />
        Laatst bijgewerkt: 22 sep 2024
      </div>
    </footer>

    <!-- JavaScripts.  jQuery moved to head EJB turned off: mathjax (slow), tikzjax (?) -->
    <!-- Bootstrap & MDB scripts -->
    <script src="/ejb/assets/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="/ejb/assets/js/mdb.min.js"></script> -->
    <script
      src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js"
      integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA="
      crossorigin="anonymous"
    ></script>

    <!-- Masonry & imagesLoaded -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"
      integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI="
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js"
      integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc="
      crossorigin="anonymous"
    ></script>
    <script defer src="/ejb/assets/js/masonry.js" type="text/javascript"></script>

    <!-- Scrolling Progress Bar -->
    <script type="text/javascript">
      /*
       * This JavaScript code has been adapted from the article
       * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar,
       * published on the website https://css-tricks.com on the 7th of May, 2014.
       * Couple of changes were made to the original code to make it compatible
       * with the `al-foio` theme.
       */
      const progressBar = $("#progress");
      /*
       * We set up the bar after all elements are done loading.
       * In some cases, if the images in the page are larger than the intended
       * size they'll have on the page, they'll be resized via CSS to accomodate
       * the desired size. This mistake, however, breaks the computations as the
       * scroll size is computed as soon as the elements finish loading.
       * To account for this, a minimal delay was introduced before computing the
       * values.
       */
      window.onload = function () {
        setTimeout(progressBarSetup, 50);
      };
      /*
       * We set up the bar according to the browser.
       * If the browser supports the progress element we use that.
       * Otherwise, we resize the bar thru CSS styling
       */
      function progressBarSetup() {
        if ("max" in document.createElement("progress")) {
          initializeProgressElement();
          $(document).on("scroll", function () {
            progressBar.attr({ value: getCurrentScrollPosition() });
          });
          $(window).on("resize", initializeProgressElement);
        } else {
          resizeProgressBar();
          $(document).on("scroll", resizeProgressBar);
          $(window).on("resize", resizeProgressBar);
        }
      }
      /*
       * The vertical scroll position is the same as the number of pixels that
       * are hidden from view above the scrollable area. Thus, a value > 0 is
       * how much the user has scrolled from the top
       */
      function getCurrentScrollPosition() {
        return $(window).scrollTop();
      }

      function initializeProgressElement() {
        let navbarHeight = $("#navbar").outerHeight(true);
        $("body").css({ "padding-top": navbarHeight });
        $("progress-container").css({ "padding-top": navbarHeight });
        progressBar.css({ top: navbarHeight });
        progressBar.attr({
          max: getDistanceToScroll(),
          value: getCurrentScrollPosition(),
        });
      }
      /*
       * The offset between the html document height and the browser viewport
       * height will be greater than zero if vertical scroll is possible.
       * This is the distance the user can scroll
       */
      function getDistanceToScroll() {
        return $(document).height() - $(window).height();
      }

      function resizeProgressBar() {
        progressBar.css({ width: getWidthPercentage() + "%" });
      }
      // The scroll ratio equals the percentage to resize the bar
      function getWidthPercentage() {
        return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
      }
    </script>
  </body>
</html>
